/* --- CSS Umum --- */
body { font-family: sans-serif; padding: 0; margin: 0; background-color: #f4f4f4; }
.container { max-width: 800px; margin: auto; background-color: white; min-height: 100vh; padding: 0; padding-bottom: 60px; }
a { text-decoration: none; color: inherit; }

/* HEADER INFORMASI */
.info-header { 
    padding: 15px 20px; 
    border-bottom: 1px solid #eee; 
    display: flex;
    flex-direction: column;
}

/* Styling Disk Usage Bar */
.disk-bar-wrapper {
    display: flex;
    gap: 10px; 
    margin-bottom: 10px; 
    font-size: 0.8em;
    flex-wrap: wrap; 
}
.disk-item {
    flex-grow: 1; 
    background-color: #e9ecef;
    border-radius: 4px;
    padding: 8px 10px;
}

.current-path { 
    background-color: #f8f8f8; 
    padding: 8px 15px; 
    border-radius: 4px; 
    font-size: 0.9em; 
    white-space: nowrap; 
    overflow: hidden;
    text-overflow: ellipsis; 
}

.progress-bar { width: 100%; background-color: #ccc; border-radius: 5px; overflow: hidden; margin-top: 5px; }
.progress { height: 10px; border-radius: 5px; background-color: #007bff; transition: width 0.4s; }

/* FILE LIST */
.file-list { padding: 20px; padding-top: 5px; display: block; }

/* FILE ITEM (LIST VIEW - Horizontal size) */
.file-item { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 10px 15px; 
    border-bottom: 1px solid #eee; 
    transition: background-color 0.2s, border 0.2s, box-shadow 0.2s; /* Tambah transisi box-shadow */
    cursor: default; 
    position: relative;
    border: 1px solid transparent; /* Border transparan default */
    
    /* PERBAIKAN UTAMA: Tambah box-shadow transparan untuk menahan ruang */
    box-shadow: 0 0 5px rgba(0, 0, 0, 0); 
}

/* Hover normal hanya berlaku jika item belum terseleksi */
.file-item:not(.selected):hover {
    background-color: #f8f9fa; 
    cursor: pointer;
}

.file-item i { margin-right: 15px; color: #555; font-size: 1.5em; }

/* [LIST VIEW] Mengatur agar nama dan ukuran sejajar horizontal (menggunakan Flexbox) */
.file-text-container { 
    flex: 1; 
    overflow: hidden; 
    display: flex; 
    align-items: center;
    justify-content: space-between;
    min-width: 0;
}

.file-name { 
    font-weight: 500; 
    min-width: 0;
    overflow: hidden;
    text-overflow: ellipsis; 
    white-space: nowrap;
}
.file-size { 
    font-size: 0.8em; 
    color: #6c757d; 
    margin-left: auto; 
    padding-left: 15px; 
    white-space: nowrap;
}

/* Sembunyikan Teks Absolute di List View */
.file-name-absolute, .file-size-absolute {
    display: none;
}

/* --- STYLE UNTUK SELEKSI BARU --- */
/* Pastikan style seleksi tetap kuat, bahkan saat di-hover, untuk List View */
.file-item.selected,
.file-item.selected:hover { 
    background-color: #e2f0ff; 
    border: 1px solid #007bff; 
    /* Gunakan box-shadow yang sama dengan yang transparan */
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.2); 
}

/* --- GRID VIEW STYLES --- */
.file-list.grid-view {
    display: grid; 
    gap: 10px; 
    padding: 10px;
}

.file-list.grid-view .file-item {
    height: 0; 
    padding-bottom: 100%; 
    padding-top: 0;
    position: relative;
    display: block;
    text-align: center;      
    border-radius: 8px;
    
    /* PENTING: Untuk Grid, border default adalah 1px solid #ddd, bukan transparent */
    border: 1px solid #ddd; 
    overflow: hidden; 
    
    /* Box-shadow transparan juga diperlukan di Grid View */
    box-shadow: 0 0 5px rgba(0, 0, 0, 0); 
}

/* Pastikan border biru Grid tetap terlihat saat di-hover/seleksi */
.file-list.grid-view .file-item.selected,
.file-list.grid-view .file-item.selected:hover {
     /* Di sini border diubah menjadi 2px, ini akan menyebabkan pergeseran 1px */
     /* Kita harus pastikan border default Grid adalah 2px transparan agar tidak bergeser */
     border: 2px solid #007bff; 
     box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
}

/* PERBAIKAN GRID VIEW BORDER: Untuk mencegah pergeseran 1px di Grid View */
.file-list.grid-view .file-item {
    /* Set default border 2px dan box-shadow transparan */
    border: 2px solid transparent; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0); 
}
.file-list.grid-view .file-item.selected,
.file-list.grid-view .file-item.selected:hover {
     /* Ketika terpilih, hanya ganti warna bordernya menjadi biru */
     border: 2px solid #007bff; 
     box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
}
.file-list.grid-view .file-item:not(.selected) {
    /* Item yang tidak terseleksi menggunakan border #ddd pada List View */
    border-color: #ddd;
}
/* KARENA ANDA MEMILIKI .file-list.grid-view .file-item BORDER: 1px solid #ddd; SEBELUMNYA, 
   SOLUSI DI ATAS HARUS LEBIH KUAT. MARI KITA SIMPLIFIKASI LOGIKA GRID VIEW. */

/* SOLUSI SIMPLIFIKASI DAN KONSISTENSI DI GRID VIEW */
.file-list.grid-view .file-item {
    height: 0; 
    padding-bottom: 100%; 
    padding-top: 0;
    position: relative;
    display: block;
    text-align: center;      
    border-radius: 8px;
    overflow: hidden; 
    
    /* BORDER DEFAULT: 2px Solid Transparan untuk menahan ruang 2px border biru */
    border: 2px solid transparent; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0); 
}
/* Menambahkan border abu-abu ke item grid yang TIDAK terseleksi agar terlihat seperti folder */
.file-list.grid-view .file-item:not(.selected) {
    border: 1px solid #ddd; 
    /* Ini akan tetap menyebabkan 1px shift, jadi kita harus menggunakan 2px solid #ddd */
    /* MENGUBAH DEFAULT BORDER UNTUK GRID: */
}
/* Kita harus kembali ke logika sebelumnya dan membuat transisi padding/margin, tapi itu kompleks */
/* Solusi terbaik adalah: semua item grid non-selected mendapatkan 2px solid #ddd */

/* Solusi Grid Baru: Jaga Konsistensi Border 2px */
.file-list.grid-view .file-item {
    /* Default: 2px border berwarna abu-abu (atau transparan) dan shadow transparan */
    border: 2px solid #ddd;
    box-shadow: 0 0 5px rgba(0, 0, 0, 0);
}
.file-list.grid-view .file-item.selected,
.file-list.grid-view .file-item.selected:hover {
    /* Selected: Ganti warna border ke biru */
    border: 2px solid #007bff;
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
}
/* List View (tetap 1px): */
.file-item {
    border: 1px solid transparent; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0);
}
.file-item.selected,
.file-item.selected:hover {
    border: 1px solid #007bff;
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
}
/* KARENA ANDA PUNYA DUA LOGIKA BORDER YANG BERBEDA (1px List vs 2px Grid), SAYA PERLU MENGKONSOLIDASIKAN */

/* --- FINAL KODE CSS UTUH (MENGHINDARI PERGESERAN) --- */

/* FILE ITEM (LIST VIEW - Horizontal size) */
.file-item { 
    /* ... properti lainnya ... */
    transition: background-color 0.2s, border 0.2s, box-shadow 0.2s; 
    border: 1px solid transparent; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0); /* Box shadow transparan di List View */
}

.file-item.selected,
.file-item.selected:hover { 
    border: 1px solid #007bff; 
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
}

/* --- GRID VIEW STYLES --- */
.file-list.grid-view .file-item {
    /* ... properti lainnya ... */
    /* PENTING: Gunakan 2px solid #ddd sebagai default, agar tidak bergeser saat ganti ke 2px blue */
    border: 2px solid #ddd; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0); /* Box shadow transparan di Grid View */
}
.file-list.grid-view .file-item.selected,
.file-list.grid-view .file-item.selected:hover {
     /* Saat terseleksi, pertahankan 2px, hanya ganti warna */
     border: 2px solid #007bff; 
     box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
}
/* Dan tambahkan kembali logika hover non-selected di Grid View jika perlu */
.file-list.grid-view .file-item:not(.selected):hover {
    background-color: #f8f9fa; /* Hover tetap berlaku di grid, tapi border tetap 2px #ddd */
}

/* KODE LENGKAP UTUH YANG SUDAH KONSISTEN (HANYA BAGIAN YANG DIUPDATE) */

/* FILE ITEM (LIST VIEW - Horizontal size) */
.file-item { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    padding: 10px 15px; 
    border-bottom: 1px solid #eee; 
    transition: background-color 0.2s, border 0.2s, box-shadow 0.2s; /* Tambah transisi box-shadow */
    cursor: default; 
    position: relative;
    border: 1px solid transparent; /* Border transparan default (1px) */
    box-shadow: 0 0 5px rgba(0, 0, 0, 0); /* Box shadow transparan default */
}
.file-item:not(.selected):hover {
    background-color: #f8f9fa; 
    cursor: pointer;
}
.file-item i { margin-right: 15px; color: #555; font-size: 1.5em; }

/* ... [LIST VIEW] ... */

/* --- STYLE UNTUK SELEKSI BARU --- */
.file-item.selected,
.file-item.selected:hover {
    background-color: #e2f0ff; 
    border: 1px solid #007bff; /* Border biru (1px) */
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.2);
}

/* --- GRID VIEW STYLES --- */
.file-list.grid-view {
    display: grid; 
    gap: 10px; 
    padding: 10px;
}

.file-list.grid-view .file-item {
    height: 0; 
    padding-bottom: 100%; 
    padding-top: 0;
    position: relative;
    display: block;
    text-align: center;      
    border-radius: 8px;
    overflow: hidden; 
    
    /* PERBAIKAN GRID: Pertahankan Border 2px solid #ddd secara default untuk menghindari pergeseran */
    border: 2px solid #ddd; 
    box-shadow: 0 0 5px rgba(0, 0, 0, 0); /* Box shadow transparan default */
}
.file-list.grid-view .file-item.selected,
.file-list.grid-view .file-item.selected:hover {
     /* Pertahankan 2px, hanya ganti warna */
     border: 2px solid #007bff; 
     box-shadow: 0 0 5px rgba(0, 123, 255, 0.2); /* Box shadow seleksi */
}

/* Sembunyikan Teks List View di Grid View */
/* ... (properti lainnya tidak berubah) ... */

